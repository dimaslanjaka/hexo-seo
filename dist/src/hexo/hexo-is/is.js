/* eslint-disable @typescript-eslint/no-this-alias */
// source of https://github.com/hexojs/hexo/blob/master/lib/plugins/helper/is.js
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tag = exports.category = exports.month = exports.year = exports.archive = exports.page = exports.post = exports.home = exports.current = void 0;
function isCurrentHelper(path = "/", strict) {
    const currentPath = this.path.replace(/^[^/].*/, "/$&");
    if (strict) {
        if (path.endsWith("/"))
            path += "index.html";
        path = path.replace(/^[^/].*/, "/$&");
        return currentPath === path;
    }
    path = path.replace(/\/index\.html$/, "/");
    if (path === "/")
        return currentPath === "/index.html";
    path = path.replace(/^[^/].*/, "/$&");
    return currentPath.startsWith(path);
}
function isHomeHelper() {
    return Boolean(this.page.__index);
}
function isPostHelper() {
    return Boolean(this.page.__post);
}
function isPageHelper() {
    return Boolean(this.page.__page);
}
function isArchiveHelper() {
    return Boolean(this.page.archive);
}
function isYearHelper(year) {
    const { page } = this;
    if (!page.archive)
        return false;
    if (year) {
        return page.year === year;
    }
    return Boolean(page.year);
}
function isMonthHelper(year, month) {
    const { page } = this;
    if (!page.archive)
        return false;
    if (year) {
        if (month) {
            return page.year === year && page.month === month;
        }
        return page.month === year;
    }
    return Boolean(page.year && page.month);
}
function isCategoryHelper(category) {
    if (category) {
        return this.page.category === category;
    }
    return Boolean(this.page.category);
}
function isTagHelper(tag) {
    if (tag) {
        return this.page.tag === tag;
    }
    return Boolean(this.page.tag);
}
exports.current = isCurrentHelper;
exports.home = isHomeHelper;
exports.post = isPostHelper;
exports.page = isPageHelper;
exports.archive = isArchiveHelper;
exports.year = isYearHelper;
exports.month = isMonthHelper;
exports.category = isCategoryHelper;
exports.tag = isTagHelper;
/**
 * Custom function
 * @param hexo
 * @returns
 */
function default_1(hexo) {
    const obj = {
        current: false,
        home: false,
        post: false,
        page: false,
        archive: false,
        year: false,
        month: false,
        category: false,
        tag: false,
        message: "try using second argument"
    };
    if (typeof hexo["page"] == "undefined")
        return obj;
    return {
        current: exports.current.bind(hexo)(),
        home: exports.home.bind(hexo)(),
        post: exports.post.bind(hexo)(),
        page: exports.page.bind(hexo)(),
        archive: exports.archive.bind(hexo)(),
        year: exports.year.bind(hexo)(),
        month: exports.month.bind(hexo)(),
        category: exports.category.bind(hexo)(),
        tag: exports.tag.bind(hexo)()
    };
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9oZXhvL2hleG8taXMvaXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscURBQXFEO0FBQ3JELGdGQUFnRjtBQUVoRixZQUFZLENBQUM7OztBQUViLFNBQVMsZUFBZSxDQUFDLElBQUksR0FBRyxHQUFHLEVBQUUsTUFBVztJQUM5QyxNQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFeEQsSUFBSSxNQUFNLEVBQUU7UUFDVixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO1lBQUUsSUFBSSxJQUFJLFlBQVksQ0FBQztRQUM3QyxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFdEMsT0FBTyxXQUFXLEtBQUssSUFBSSxDQUFDO0tBQzdCO0lBRUQsSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFM0MsSUFBSSxJQUFJLEtBQUssR0FBRztRQUFFLE9BQU8sV0FBVyxLQUFLLGFBQWEsQ0FBQztJQUV2RCxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFFdEMsT0FBTyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFFRCxTQUFTLFlBQVk7SUFDbkIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNwQyxDQUFDO0FBRUQsU0FBUyxZQUFZO0lBQ25CLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVELFNBQVMsWUFBWTtJQUNuQixPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMs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WUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN2QixJQUFJLEVBQUUsWUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN2QixPQUFPLEVBQUUsZUFBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3QixJQUFJLEVBQUUsWUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN2QixLQUFLLEVBQUUsYUFBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN6QixRQUFRLEVBQUUsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDL0IsR0FBRyxFQUFFLFdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7S0FDdEIsQ0FBQztBQUNKLENBQUM7QUF6QkQsNEJBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgKi9cbi8vIHNvdXJjZSBvZiBodHRwczovL2dpdGh1Yi5jb20vaGV4b2pzL2hleG8vYmxvYi9tYXN0ZXIvbGliL3BsdWdpbnMvaGVscGVyL2lzLmpzXG5cblwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBpc0N1cnJlbnRIZWxwZXIocGF0aCA9IFwiL1wiLCBzdHJpY3Q6IGFueSkge1xuICBjb25zdCBjdXJyZW50UGF0aCA9IHRoaXMucGF0aC5yZXBsYWNlKC9eW14vXS4qLywgXCIvJCZcIik7XG5cbiAgaWYgKHN0cmljdCkge1xuICAgIGlmIChwYXRoLmVuZHNXaXRoKFwiL1wiKSkgcGF0aCArPSBcImluZGV4Lmh0bWxcIjtcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eW14vXS4qLywgXCIvJCZcIik7XG5cbiAgICByZXR1cm4gY3VycmVudFBhdGggPT09IHBhdGg7XG4gIH1cblxuICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXC9pbmRleFxcLmh0bWwkLywgXCIvXCIpO1xuXG4gIGlmIChwYXRoID09PSBcIi9cIikgcmV0dXJuIGN1cnJlbnRQYXRoID09PSBcIi9pbmRleC5odG1sXCI7XG5cbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlteL10uKi8sIFwiLyQmXCIpO1xuXG4gIHJldHVybiBjdXJyZW50UGF0aC5zdGFydHNXaXRoKHBhdGgpO1xufVxuXG5mdW5jdGlvbiBpc0hvbWVIZWxwZXIoKSB7XG4gIHJldHVybiBCb29sZWFuKHRoaXMucGFnZS5fX2luZGV4KTtcbn1cblxuZnVuY3Rpb24gaXNQb3N0SGVscGVyKCkge1xuICByZXR1cm4gQm9vbGVhbih0aGlzLnBhZ2UuX19wb3N0KTtcbn1cblxuZnVuY3Rpb24gaXNQYWdlSGVscGVyKCkge1xuICByZXR1cm4gQm9vbGVhbih0aGlzLnBhZ2UuX19wYWdlKTtcbn1cblxuZnVuY3Rpb24gaXNBcmNoaXZlSGVscGVyKCkge1xuICByZXR1cm4gQm9vbGVhbih0aGlzLnBhZ2UuYXJjaGl2ZSk7XG59XG5cbmZ1bmN0aW9uIGlzWWVhckhlbHBlcih5ZWFyKSB7XG4gIGNvbnN0IHsgcGFnZSB9ID0gdGhpcztcbiAgaWYgKCFwYWdlLmFyY2hpdmUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoeWVhcikge1xuICAgIHJldHVybiBwYWdlLnllYXIgPT09IHllYXI7XG4gIH1cblxuICByZXR1cm4gQm9vbGVhbihwYWdlLnllYXIpO1xufVxuXG5mdW5jdGlvbiBpc01vbnRoSGVscGVyKHllYXIsIG1vbnRoKSB7XG4gIGNvbnN0IHsgcGFnZSB9ID0gdGhpcztcbiAgaWYgKCFwYWdlLmFyY2hpdmUpIHJldHVybiBmYWxzZTtcblxuICBpZiAoeWVhcikge1xuICAgIGlmIChtb250aCkge1xuICAgICAgcmV0dXJuIHBhZ2UueWVhciA9PT0geWVhciAmJiBwYWdlLm1vbnRoID09PSBtb250aDtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFnZS5tb250aCA9PT0geWVhcjtcbiAgfVxuXG4gIHJldHVybiBCb29sZWFuKHBhZ2UueWVhciAmJiBwYWdlLm1vbnRoKTtcbn1cblxuZnVuY3Rpb24gaXNDYXRlZ29yeUhlbHBlcihjYXRlZ29yeSkge1xuICBpZiAoY2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLmNhdGVnb3J5ID09PSBjYXRlZ29yeTtcbiAgfVxuXG4gIHJldHVybiBCb29sZWFuKHRoaXMucGFnZS5jYXRlZ29yeSk7XG59XG5cbmZ1bmN0aW9uIGlzVGFnSGVscGVyKHRoaXM6IGFueSwgdGFnKSB7XG4gIGlmICh0YWcpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLnRhZyA9PT0gdGFnO1xuICB9XG5cbiAgcmV0dXJuIEJvb2xlYW4odGhpcy5wYWdlLnRhZyk7XG59XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50ID0gaXNDdXJyZW50SGVscGVyO1xuZXhwb3J0IGNvbnN0IGhvbWUgPSBpc0hvbWVIZWxwZXI7XG5leHBvcnQgY29uc3QgcG9zdCA9IGlzUG9zdEhlbHBlcjtcbmV4cG9ydCBjb25zdCBwYWdlID0gaXNQYWdlSGVscGVyO1xuZXhwb3J0IGNvbnN0IGFyY2hpdmUgPSBpc0FyY2hpdmVIZWxwZXI7XG5leHBvcnQgY29uc3QgeWVhciA9IGlzWWVhckhlbHBlcjtcbmV4cG9ydCBjb25zdCBtb250aCA9IGlzTW9udGhIZWxwZXI7XG5leHBvcnQgY29uc3QgY2F0ZWdvcnkgPSBpc0NhdGVnb3J5SGVscGVyO1xuZXhwb3J0IGNvbnN0IHRhZyA9IGlzVGFnSGVscGVyO1xuXG4vKipcbiAqIEN1c3RvbSBmdW5jdGlvblxuICogQHBhcmFtIGhleG9cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChoZXhvOiBhbnkpOiBIZXhvSXMge1xuICBjb25zdCBvYmogPSB7XG4gICAgY3VycmVudDogZmFsc2UsXG4gICAgaG9tZTogZmFsc2UsXG4gICAgcG9zdDogZmFsc2UsXG4gICAgcGFnZTogZmFsc2UsXG4gICAgYXJjaGl2ZTogZmFsc2UsXG4gICAgeWVhcjogZmFsc2UsXG4gICAgbW9udGg6IGZhbHNlLFxuICAgIGNhdGVnb3J5OiBmYWxzZSxcbiAgICB0YWc6IGZhbHNlLFxuICAgIG1lc3NhZ2U6IFwidHJ5IHVzaW5nIHNlY29uZCBhcmd1bWVudFwiXG4gIH07XG4gIGlmICh0eXBlb2YgaGV4b1tcInBhZ2VcIl0gPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIG9iajtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50OiBjdXJyZW50LmJpbmQoaGV4bykoKSxcbiAgICBob21lOiBob21lLmJpbmQoaGV4bykoKSxcbiAgICBwb3N0OiBwb3N0LmJpbmQoaGV4bykoKSxcbiAgICBwYWdlOiBwYWdlLmJpbmQoaGV4bykoKSxcbiAgICBhcmNoaXZlOiBhcmNoaXZlLmJpbmQoaGV4bykoKSxcbiAgICB5ZWFyOiB5ZWFyLmJpbmQoaGV4bykoKSxcbiAgICBtb250aDogbW9udGguYmluZChoZXhvKSgpLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yeS5iaW5kKGhleG8pKCksXG4gICAgdGFnOiB0YWcuYmluZChoZXhvKSgpXG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGV4b0lzIHtcbiAgY3VycmVudDogYm9vbGVhbjtcbiAgaG9tZTogYm9vbGVhbjtcbiAgcG9zdDogYm9vbGVhbjtcbiAgcGFnZTogYm9vbGVhbjtcbiAgYXJjaGl2ZTogYm9vbGVhbjtcbiAgeWVhcjogYm9vbGVhbjtcbiAgbW9udGg6IGJvb2xlYW47XG4gIGNhdGVnb3J5OiBib29sZWFuO1xuICB0YWc6IGJvb2xlYW47XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG4iXX0=