"use strict";
var Set = require("collections/set");
var describeCollection = require("./collection");
var describeSet = require("./set");
if (Set._setupCollectionSet) {
    Set._setupCollectionSet();
}
var CollectionsSet = Set.CollectionsSet || Set;
describe("CollectionsSet-spec", function () {
    var Set = CollectionsSet;
    describeCollection(Set, [1, 2, 3, 4], true);
    describeCollection(Set, [{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }], true);
    describeSet(Set);
    it("should pop and shift", function () {
        var a = { i: 2 };
        var b = { i: 1 };
        var c = { i: 0 };
        var set = Set([a, b, c], Object.is);
        expect(set.pop()).toBe(c);
        expect(set.shift()).toBe(a);
    });
    it("should dispatch range change on clear", function () {
        var set = Set([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set.clear();
        expect(spy).toHaveBeenCalledWith([], [1, 2, 3], 0, set, undefined);
    });
    it("should dispatch range change on add", function () {
        var set = Set([1, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set.add(2);
        expect(set.toArray()).toEqual([1, 3, 2]);
        expect(spy).toHaveBeenCalledWith([2], [], 2, set, undefined);
    });
    it("should dispatch range change on delete", function () {
        var set = Set([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set["delete"](2);
        expect(set.toArray()).toEqual([1, 3]);
        expect(spy).toHaveBeenCalledWith([], [2], 1, set, undefined);
    });
    it("should dispatch range change on pop", function () {
        var set = Set([1, 3, 2]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        expect(set.pop()).toEqual(2);
        expect(set.toArray()).toEqual([1, 3]);
        expect(spy).toHaveBeenCalledWith([], [2], 2, set, undefined);
    });
    it("should dispatch range change on shift", function () {
        var set = Set([1, 3, 2]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        expect(set.shift()).toEqual(1);
        expect(set.toArray()).toEqual([3, 2]);
        expect(spy).toHaveBeenCalledWith([], [1], 0, set, undefined);
    });
    it("should dispatch range change on shift then pop", function () {
        var set = Set([1, 3]);
        set.addRangeChangeListener(function (plus, minus, index) {
            spy(plus, minus, index); // ignore all others
        });
        var spy = jasmine.createSpy();
        expect(set.add(2)).toEqual(true);
        expect(set.toArray()).toEqual([1, 3, 2]);
        expect(spy).toHaveBeenCalledWith([2], [], 2);
        var spy = jasmine.createSpy();
        expect(set.shift()).toEqual(1);
        expect(set.toArray()).toEqual([3, 2]);
        expect(spy).toHaveBeenCalledWith([], [1], 0);
        var spy = jasmine.createSpy();
        expect(set.pop()).toEqual(2);
        expect(set.toArray()).toEqual([3]);
        expect(spy).toHaveBeenCalledWith([], [2], 1);
        var spy = jasmine.createSpy();
        expect(set.delete(3)).toEqual(true);
        expect(set.toArray()).toEqual([]);
        expect(spy).toHaveBeenCalledWith([], [3], 0);
    });
});
describe("Set-spec", function () {
    describeCollection(Set, [1, 2, 3, 4], false);
    describeCollection(Set, [{ id: 0 }, { id: 1 }, { id: 2 }, { id: 3 }], false);
    describeSet(Set);
    it("should pop and shift", function () {
        var a = { i: 2 };
        var b = { i: 1 };
        var c = { i: 0 };
        var set = Set.from([a, b, c]);
        expect(set.pop()).toBe(c);
        expect(set.shift()).toBe(a);
    });
    it("should dispatch range change on clear", function () {
        var set = Set.from([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set.clear();
        expect(spy).toHaveBeenCalledWith([], [1, 2, 3], 0, set, undefined);
    });
    it("should dispatch range change on add", function () {
        var set = Set.from([1, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set.add(2);
        expect(set.toArray()).toEqual([1, 3, 2]);
        expect(spy).toHaveBeenCalledWith([2], [], 2, set, undefined);
    });
    it("should dispatch range change on delete", function () {
        var set = Set.from([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        set["delete"](2);
        expect(set.toArray()).toEqual([1, 3]);
        expect(spy).toHaveBeenCalledWith([], [2], 1, set, undefined);
    });
    it("should dispatch range change on pop", function () {
        var set = Set.from([1, 3, 2]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        expect(set.pop()).toEqual(2);
        expect(set.toArray()).toEqual([1, 3]);
        expect(spy).toHaveBeenCalledWith([], [2], 2, set, undefined);
    });
    it("should dispatch range change on shift", function () {
        var set = Set.from([1, 3, 2]);
        var spy = jasmine.createSpy();
        set.addRangeChangeListener(spy);
        expect(set.shift()).toEqual(1);
        expect(set.toArray()).toEqual([3, 2]);
        expect(spy).toHaveBeenCalledWith([], [1], 0, set, undefined);
    });
    it("should dispatch range change on shift then pop", function () {
        var set = Set.from([1, 3]);
        set.addRangeChangeListener(function (plus, minus, index) {
            spy(plus, minus, index); // ignore all others
        });
        var spy = jasmine.createSpy();
        expect(set.add(2)).toEqual(true);
        expect(set.toArray()).toEqual([1, 3, 2]);
        expect(spy).toHaveBeenCalledWith([2], [], 2);
        var spy = jasmine.createSpy();
        expect(set.shift()).toEqual(1);
        expect(set.toArray()).toEqual([3, 2]);
        expect(spy).toHaveBeenCalledWith([], [1], 0);
        var spy = jasmine.createSpy();
        expect(set.pop()).toEqual(2);
        expect(set.toArray()).toEqual([3]);
        expect(spy).toHaveBeenCalledWith([], [2], 1);
        var spy = jasmine.createSpy();
        expect(set.delete(3)).toEqual(true);
        expect(set.toArray()).toEqual([]);
        expect(spy).toHaveBeenCalledWith([], [3], 0);
    });
    it("should dispatch size property change on clear", function () {
        var set = new Set([1, 2, 3]);
        // var set = Set.from([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addBeforeOwnPropertyChangeListener("size", function (size) {
            spy("size change from", size);
        });
        set.addOwnPropertyChangeListener("size", function (size) {
            spy("size change to", size);
        });
        expect(set.size).toBe(3);
        expect(set.has(1)).toBe(true);
        expect(set.has(2)).toBe(true);
        expect(set.has(3)).toBe(true);
        set.clear();
        expect(set.size).toBe(0);
        expect(set.has(1)).toBe(false);
        expect(set.has(2)).toBe(false);
        expect(set.has(3)).toBe(false);
        var argsForCall = spy.calls.all().map(function (call) { return call.args; });
        expect(argsForCall).toEqual([
            ["size change from", 3],
            ["size change to", 0]
        ]);
    });
    it("should dispatch size property change on add", function () {
        var set = new Set();
        var spy = jasmine.createSpy();
        set.addBeforeOwnPropertyChangeListener("size", function (size) {
            spy("size change from", size);
        });
        set.addOwnPropertyChangeListener("size", function (size) {
            spy("size change to", size);
        });
        set.add(10);
        set.add(20);
        var argsForCall = spy.calls.all().map(function (call) { return call.args; });
        expect(argsForCall).toEqual([
            ["size change from", 0],
            ["size change to", 1],
            ["size change from", 1],
            ["size change to", 2],
        ]);
    });
    it("should dispatch size property change on delete", function () {
        var set = new Set([1, 2, 3]);
        var spy = jasmine.createSpy();
        set.addBeforeOwnPropertyChangeListener("size", function (size) {
            spy("size change from", size);
        });
        set.addOwnPropertyChangeListener("size", function (size) {
            spy("size change to", size);
        });
        set.delete(2);
        set.delete(1);
        var argsForCall = spy.calls.all().map(function (call) { return call.args; });
        expect(argsForCall).toEqual([
            ["size change from", 3],
            ["size change to", 2],
            ["size change from", 2],
            ["size change to", 1],
        ]);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0LXNwZWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL2pzLXByb3RvdHlwZXMvcGFja2FnZXMvY29sbGVjdGlvbnMvdGVzdC9zcGVjL3NldC1zcGVjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUNyQyxJQUFJLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNqRCxJQUFJLFdBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFFbkMsSUFBSSxHQUFHLENBQUMsbUJBQW1CLEVBQUU7SUFDekIsR0FBRyxDQUFDLG1CQUFtQixFQUFFLENBQUM7Q0FDN0I7QUFDRCxJQUFJLGNBQWMsR0FBRyxHQUFHLENBQUMsY0FBYyxJQUFJLEdBQUcsQ0FBQztBQUUvQyxRQUFRLENBQUMscUJBQXFCLEVBQUU7SUFDNUIsSUFBSSxHQUFHLEdBQUcsY0FBYyxDQUFDO0lBQ3pCLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUMsRUFBRSxFQUFFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFFLENBQUMsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEUsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWpCLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRTtRQUN2QixJQUFJLENBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQyxD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SUFBSSxDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxHQUFHLENBQUMsNEJBQTRCLENBQUMsTUFBTSxFQUFFLFVBQVUsSUFBSTtZQUNuRCxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7UUFFSCxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksV0FBVyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDeEIsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7WUFDdkIsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7WUFDckIsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUM7WUFDdkIsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7U0FDeEIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDLENBQUM7QUFFUCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIFNldCA9IHJlcXVpcmUoXCJjb2xsZWN0aW9ucy9zZXRcIik7XG52YXIgZGVzY3JpYmVDb2xsZWN0aW9uID0gcmVxdWlyZShcIi4vY29sbGVjdGlvblwiKTtcbnZhciBkZXNjcmliZVNldCA9IHJlcXVpcmUoXCIuL3NldFwiKTtcblxuaWYgKFNldC5fc2V0dXBDb2xsZWN0aW9uU2V0KSB7XG4gICAgU2V0Ll9zZXR1cENvbGxlY3Rpb25TZXQoKTtcbn1cbnZhciBDb2xsZWN0aW9uc1NldCA9IFNldC5Db2xsZWN0aW9uc1NldCB8fCBTZXQ7XG5cbmRlc2NyaWJlKFwiQ29sbGVjdGlvbnNTZXQtc3BlY1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIFNldCA9IENvbGxlY3Rpb25zU2V0O1xuICAgIGRlc2NyaWJlQ29sbGVjdGlvbihTZXQsIFsxLCAyLCAzLCA0XSwgdHJ1ZSk7XG4gICAgZGVzY3JpYmVDb2xsZWN0aW9uKFNldCwgW3tpZDogMH0sIHtpZDogMX0sIHtpZDogMn0sIHtpZDogM31dLCB0cnVlKTtcbiAgICBkZXNjcmliZVNldChTZXQpO1xuXG4gICAgaXQoXCJzaG91bGQgcG9wIGFuZCBzaGlmdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhID0ge2k6IDJ9O1xuICAgICAgICB2YXIgYiA9IHtpOiAxfTtcbiAgICAgICAgdmFyIGMgPSB7aTogMH07XG4gICAgICAgIHZhciBzZXQgPSBTZXQoW2EsIGIsIGNdLCBPYmplY3QuaXMpO1xuICAgICAgICBleHBlY3Qoc2V0LnBvcCgpKS50b0JlKGMpO1xuICAgICAgICBleHBlY3Qoc2V0LnNoaWZ0KCkpLnRvQmUoYSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBkaXNwYXRjaCByYW5nZSBjaGFuZ2Ugb24gY2xlYXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0KFsxLCAyLCAzXSk7XG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihzcHkpO1xuICAgICAgICBzZXQuY2xlYXIoKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW10sIFsxLCAyLCAzXSwgMCwgc2V0LCB1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGF0Y2ggcmFuZ2UgY2hhbmdlIG9uIGFkZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXQgPSBTZXQoWzEsIDNdKTtcbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIHNldC5hZGRSYW5nZUNoYW5nZUxpc3RlbmVyKHNweSk7XG4gICAgICAgIHNldC5hZGQoMik7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFsxLCAzLCAyXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFsyXSwgW10sIDIsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBkZWxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0KFsxLCAyLCAzXSk7XG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihzcHkpO1xuICAgICAgICBzZXRbXCJkZWxldGVcIl0oMik7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFsxLCAzXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbMl0sIDEsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBwb3BcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0KFsxLCAzLCAyXSk7XG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihzcHkpO1xuICAgICAgICBleHBlY3Qoc2V0LnBvcCgpKS50b0VxdWFsKDIpO1xuICAgICAgICBleHBlY3Qoc2V0LnRvQXJyYXkoKSkudG9FcXVhbChbMSwgM10pO1xuICAgICAgICBleHBlY3Qoc3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXSwgWzJdLCAyLCBzZXQsIHVuZGVmaW5lZCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBkaXNwYXRjaCByYW5nZSBjaGFuZ2Ugb24gc2hpZnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0KFsxLCAzLCAyXSk7XG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihzcHkpO1xuICAgICAgICBleHBlY3Qoc2V0LnNoaWZ0KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFszLCAyXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbMV0sIDAsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBzaGlmdCB0aGVuIHBvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXQgPSBTZXQoWzEsIDNdKTtcbiAgICAgICAgc2V0LmFkZFJhbmdlQ2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24gKHBsdXMsIG1pbnVzLCBpbmRleCkge1xuICAgICAgICAgICAgc3B5KHBsdXMsIG1pbnVzLCBpbmRleCk7IC8vIGlnbm9yZSBhbGwgb3RoZXJzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBleHBlY3Qoc2V0LmFkZCgyKSkudG9FcXVhbCh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoWzEsIDMsIDJdKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoWzJdLCBbXSwgMik7XG5cbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIGV4cGVjdChzZXQuc2hpZnQoKSkudG9FcXVhbCgxKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoWzMsIDJdKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW10sIFsxXSwgMCk7XG5cbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIGV4cGVjdChzZXQucG9wKCkpLnRvRXF1YWwoMik7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFszXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbMl0sIDEpO1xuXG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBleHBlY3Qoc2V0LmRlbGV0ZSgzKSkudG9FcXVhbCh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoW10pO1xuICAgICAgICBleHBlY3Qoc3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXSwgWzNdLCAwKTtcbiAgICB9KTtcblxufSk7XG5cbmRlc2NyaWJlKFwiU2V0LXNwZWNcIiwgZnVuY3Rpb24gKCkge1xuICAgIGRlc2NyaWJlQ29sbGVjdGlvbihTZXQsIFsxLCAyLCAzLCA0XSwgZmFsc2UpO1xuICAgIGRlc2NyaWJlQ29sbGVjdGlvbihTZXQsIFt7aWQ6IDB9LCB7aWQ6IDF9LCB7aWQ6IDJ9LCB7aWQ6IDN9XSwgZmFsc2UpO1xuICAgIGRlc2NyaWJlU2V0KFNldCk7XG5cbiAgICBpdChcInNob3VsZCBwb3AgYW5kIHNoaWZ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGEgPSB7aTogMn07XG4gICAgICAgIHZhciBiID0ge2k6IDF9O1xuICAgICAgICB2YXIgYyA9IHtpOiAwfTtcbiAgICAgICAgdmFyIHNldCA9IFNldC5mcm9tKFthLCBiLCBjXSk7XG4gICAgICAgIGV4cGVjdChzZXQucG9wKCkpLnRvQmUoYyk7XG4gICAgICAgIGV4cGVjdChzZXQuc2hpZnQoKSkudG9CZShhKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBjbGVhclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXQgPSBTZXQuZnJvbShbMSwgMiwgM10pO1xuICAgICAgICB2YXIgc3B5ID0gamFzbWluZS5jcmVhdGVTcHkoKTtcbiAgICAgICAgc2V0LmFkZFJhbmdlQ2hhbmdlTGlzdGVuZXIoc3B5KTtcbiAgICAgICAgc2V0LmNsZWFyKCk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbMSwgMiwgM10sIDAsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBhZGRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0LmZyb20oWzEsIDNdKTtcbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIHNldC5hZGRSYW5nZUNoYW5nZUxpc3RlbmVyKHNweSk7XG4gICAgICAgIHNldC5hZGQoMik7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFsxLCAzLCAyXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFsyXSwgW10sIDIsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBkZWxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gU2V0LmZyb20oWzEsIDIsIDNdKTtcbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIHNldC5hZGRSYW5nZUNoYW5nZUxpc3RlbmVyKHNweSk7XG4gICAgICAgIHNldFtcImRlbGV0ZVwiXSgyKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoWzEsIDNdKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW10sIFsyXSwgMSwgc2V0LCB1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGF0Y2ggcmFuZ2UgY2hhbmdlIG9uIHBvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXQgPSBTZXQuZnJvbShbMSwgMywgMl0pO1xuICAgICAgICB2YXIgc3B5ID0gamFzbWluZS5jcmVhdGVTcHkoKTtcbiAgICAgICAgc2V0LmFkZFJhbmdlQ2hhbmdlTGlzdGVuZXIoc3B5KTtcbiAgICAgICAgZXhwZWN0KHNldC5wb3AoKSkudG9FcXVhbCgyKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoWzEsIDNdKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW10sIFsyXSwgMiwgc2V0LCB1bmRlZmluZWQpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGF0Y2ggcmFuZ2UgY2hhbmdlIG9uIHNoaWZ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNldCA9IFNldC5mcm9tKFsxLCAzLCAyXSk7XG4gICAgICAgIHZhciBzcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgpO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihzcHkpO1xuICAgICAgICBleHBlY3Qoc2V0LnNoaWZ0KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgIGV4cGVjdChzZXQudG9BcnJheSgpKS50b0VxdWFsKFszLCAyXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbMV0sIDAsIHNldCwgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGRpc3BhdGNoIHJhbmdlIGNoYW5nZSBvbiBzaGlmdCB0aGVuIHBvcFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXQgPSBTZXQuZnJvbShbMSwgM10pO1xuICAgICAgICBzZXQuYWRkUmFuZ2VDaGFuZ2VMaXN0ZW5lcihmdW5jdGlvbiAocGx1cywgbWludXMsIGluZGV4KSB7XG4gICAgICAgICAgICBzcHkocGx1cywgbWludXMsIGluZGV4KTsgLy8gaWdub3JlIGFsbCBvdGhlcnNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIGV4cGVjdChzZXQuYWRkKDIpKS50b0VxdWFsKHRydWUpO1xuICAgICAgICBleHBlY3Qoc2V0LnRvQXJyYXkoKSkudG9FcXVhbChbMSwgMywgMl0pO1xuICAgICAgICBleHBlY3Qoc3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbMl0sIFtdLCAyKTtcblxuICAgICAgICB2YXIgc3B5ID0gamFzbWluZS5jcmVhdGVTcHkoKTtcbiAgICAgICAgZXhwZWN0KHNldC5zaGlmdCgpKS50b0VxdWFsKDEpO1xuICAgICAgICBleHBlY3Qoc2V0LnRvQXJyYXkoKSkudG9FcXVhbChbMywgMl0pO1xuICAgICAgICBleHBlY3Qoc3B5KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChbXSwgWzFdLCAwKTtcblxuICAgICAgICB2YXIgc3B5ID0gamFzbWluZS5jcmVhdGVTcHkoKTtcbiAgICAgICAgZXhwZWN0KHNldC5wb3AoKSkudG9FcXVhbCgyKTtcbiAgICAgICAgZXhwZWN0KHNldC50b0FycmF5KCkpLnRvRXF1YWwoWzNdKTtcbiAgICAgICAgZXhwZWN0KHNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoW10sIFsyXSwgMSk7XG5cbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIGV4cGVjdChzZXQuZGVsZXRlKDMpKS50b0VxdWFsKHRydWUpO1xuICAgICAgICBleHBlY3Qoc2V0LnRvQXJyYXkoKSkudG9FcXVhbChbXSk7XG4gICAgICAgIGV4cGVjdChzcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFtdLCBbM10sIDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGF0Y2ggc2l6ZSBwcm9wZXJ0eSBjaGFuZ2Ugb24gY2xlYXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gbmV3IFNldChbMSwgMiwgM10pO1xuICAgICAgICAvLyB2YXIgc2V0ID0gU2V0LmZyb20oWzEsIDIsIDNdKTtcbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIHNldC5hZGRCZWZvcmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKFwic2l6ZVwiLCBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAgICAgc3B5KFwic2l6ZSBjaGFuZ2UgZnJvbVwiLCBzaXplKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0LmFkZE93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIoXCJzaXplXCIsIGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgICAgICBzcHkoXCJzaXplIGNoYW5nZSB0b1wiLCBzaXplKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHNldC5zaXplKS50b0JlKDMpO1xuICAgICAgICBleHBlY3Qoc2V0LmhhcygxKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHNldC5oYXMoMikpLnRvQmUodHJ1ZSk7XG4gICAgICAgIGV4cGVjdChzZXQuaGFzKDMpKS50b0JlKHRydWUpO1xuICAgICAgICBzZXQuY2xlYXIoKTtcbiAgICAgICAgZXhwZWN0KHNldC5zaXplKS50b0JlKDApO1xuICAgICAgICBleHBlY3Qoc2V0LmhhcygxKSkudG9CZShmYWxzZSk7XG4gICAgICAgIGV4cGVjdChzZXQuaGFzKDIpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KHNldC5oYXMoMykpLnRvQmUoZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgdmFyIGFyZ3NGb3JDYWxsID0gc3B5LmNhbGxzLmFsbCgpLm1hcChmdW5jdGlvbiAoY2FsbCkgeyByZXR1cm4gY2FsbC5hcmdzIH0pO1xuICAgICAgICBleHBlY3QoYXJnc0ZvckNhbGwpLnRvRXF1YWwoW1xuICAgICAgICAgICAgW1wic2l6ZSBjaGFuZ2UgZnJvbVwiLCAzXSxcbiAgICAgICAgICAgIFtcInNpemUgY2hhbmdlIHRvXCIsIDBdXG4gICAgICAgIF0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGlzcGF0Y2ggc2l6ZSBwcm9wZXJ0eSBjaGFuZ2Ugb24gYWRkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgdmFyIHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICAgIHNldC5hZGRCZWZvcmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKFwic2l6ZVwiLCBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAgICAgc3B5KFwic2l6ZSBjaGFuZ2UgZnJvbVwiLCBzaXplKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0LmFkZE93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIoXCJzaXplXCIsIGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgICAgICBzcHkoXCJzaXplIGNoYW5nZSB0b1wiLCBzaXplKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0LmFkZCgxMCk7XG4gICAgICAgIHNldC5hZGQoMjApO1xuXG4gICAgICAgIHZhciBhcmdzRm9yQ2FsbCA9IHNweS5jYWxscy5hbGwoKS5tYXAoZnVuY3Rpb24gKGNhbGwpIHsgcmV0dXJuIGNhbGwuYXJncyB9KTtcbiAgICAgICAgZXhwZWN0KGFyZ3NGb3JDYWxsKS50b0VxdWFsKFtcbiAgICAgICAgICAgIFtcInNpemUgY2hhbmdlIGZyb21cIiwgMF0sXG4gICAgICAgICAgICBbXCJzaXplIGNoYW5nZSB0b1wiLCAxXSxcbiAgICAgICAgICAgIFtcInNpemUgY2hhbmdlIGZyb21cIiwgMV0sXG4gICAgICAgICAgICBbXCJzaXplIGNoYW5nZSB0b1wiLCAyXSxcbiAgICAgICAgXSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBkaXNwYXRjaCBzaXplIHByb3BlcnR5IGNoYW5nZSBvbiBkZWxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2V0ID0gbmV3IFNldChbMSwgMiwgM10pO1xuICAgICAgICB2YXIgc3B5ID0gamFzbWluZS5jcmVhdGVTcHkoKTtcbiAgICAgICAgc2V0LmFkZEJlZm9yZU93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIoXCJzaXplXCIsIGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgICAgICBzcHkoXCJzaXplIGNoYW5nZSBmcm9tXCIsIHNpemUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXQuYWRkT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcihcInNpemVcIiwgZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgICAgIHNweShcInNpemUgY2hhbmdlIHRvXCIsIHNpemUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXQuZGVsZXRlKDIpO1xuICAgICAgICBzZXQuZGVsZXRlKDEpO1xuICAgICAgICB2YXIgYXJnc0ZvckNhbGwgPSBzcHkuY2FsbHMuYWxsKCkubWFwKGZ1bmN0aW9uIChjYWxsKSB7IHJldHVybiBjYWxsLmFyZ3MgfSk7XG4gICAgICAgIGV4cGVjdChhcmdzRm9yQ2FsbCkudG9FcXVhbChbXG4gICAgICAgICAgICBbXCJzaXplIGNoYW5nZSBmcm9tXCIsIDNdLFxuICAgICAgICAgICAgW1wic2l6ZSBjaGFuZ2UgdG9cIiwgMl0sXG4gICAgICAgICAgICBbXCJzaXplIGNoYW5nZSBmcm9tXCIsIDJdLFxuICAgICAgICAgICAgW1wic2l6ZSBjaGFuZ2UgdG9cIiwgMV0sXG4gICAgICAgIF0pO1xuICAgIH0pO1xuXG59KTtcbiJdfQ==