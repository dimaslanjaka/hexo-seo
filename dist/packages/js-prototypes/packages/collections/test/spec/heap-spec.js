"use strict";
var Heap = require("collections/heap");
var permute = require("./permute");
var describeToJson = require("./to-json");
describe("Heap-spec", function () {
    describeToJson(Heap, [4, 3, 2, 1]);
    describe("always tracks the max value", function () {
        var commonNumbers = [1, 2, 3, 4, 5];
        permute(commonNumbers).forEach(function (numbers) {
            it(JSON.stringify(numbers), function () {
                var heap = Heap(numbers);
                var maxes = commonNumbers.slice();
                while (maxes.length > 0) {
                    var max = maxes.pop();
                    var top = heap.pop();
                    expect(top).toEqual(max);
                    expect(heap.length).toBe(maxes.length);
                }
                expect(heap.length).toBe(0);
            });
        });
        it("[5, 4, 3, 2, 1]", function () {
            var stack = [5, 4, 3, 2, 1];
            var heap = Heap(stack);
            expect(heap.content).toEqual([5, 4, 3, 2, 1]);
            expect(heap.length).toBe(5);
            expect(heap.pop()).toBe(5);
            expect(heap.content).toEqual([4, 2, 3, 1]);
            expect(heap.length).toBe(4);
            expect(heap.pop()).toBe(4);
            expect(heap.content).toEqual([3, 2, 1]);
            expect(heap.length).toBe(3);
            expect(heap.pop()).toBe(3);
            expect(heap.content).toEqual([2, 1]);
            expect(heap.length).toBe(2);
            expect(heap.pop()).toBe(2);
            expect(heap.content).toEqual([1]);
            expect(heap.length).toBe(1);
            expect(heap.pop()).toBe(1);
            expect(heap.content).toEqual([]);
            expect(heap.length).toBe(0);
        });
    });
    it("should be observable", function () {
        var heap = new Heap([1, 2, 3, 4, 5]);
        var top;
        heap.addMapChangeListener(function (value, key) {
            if (key === 0) {
                top = value;
            }
        });
        heap.push(7);
        expect(top).toBe(7);
        heap.pop();
        expect(top).toBe(5);
        heap.pop();
        expect(top).toBe(4);
        heap.pop();
        expect(top).toBe(3);
    });
    it("should delete properly", function () {
        var heap = new Heap([1, 2, 3, 4, 5, 6]);
        expect(heap.length).toEqual(6);
        heap.delete(3);
        expect(heap.sorted()).toEqual([1, 2, 4, 5, 6]);
        expect(heap.length).toEqual(5);
        heap.delete(6);
        expect(heap.sorted()).toEqual([1, 2, 4, 5]);
        expect(heap.length).toEqual(4);
        heap.delete(1);
        expect(heap.sorted()).toEqual([2, 4, 5]);
        expect(heap.length).toEqual(3);
        heap.delete(4);
        expect(heap.sorted()).toEqual([2, 5]);
        expect(heap.length).toEqual(2);
        heap.delete(2);
        expect(heap.sorted()).toEqual([5]);
        expect(heap.length).toEqual(1);
        heap.delete(5);
        expect(heap.sorted()).toEqual([]);
        expect(heap.length).toEqual(0);
        expect(heap.delete(null)).toBe(false);
        expect(heap.sorted()).toEqual([]);
        expect(heap.length).toEqual(0);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhcC1zcGVjLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9qcy1wcm90b3R5cGVzL3BhY2thZ2VzL2NvbGxlY3Rpb25zL3Rlc3Qvc3BlYy9oZWFwLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3ZDLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNuQyxJQUFJLGNBQWMsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFMUMsUUFBUSxDQUFDLFdBQVcsRUFBRTtJQUVsQixjQUFjLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVuQyxRQUFRLENBQUMsNkJBQTZCLEVBQUU7UUFFcEMsSUFBSSxhQUFhLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLE9BQU87WUFDNUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBRXhCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDekIsSUFBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUVsQyxPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUNyQixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQ3RCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDckIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUMxQztnQkFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVoQyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLGlCQUFpQixFQUFFO1lBQ2xCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxzQkFBc0IsRUFBRTtRQUV2QixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksR0FBRyxDQUFDO1FBQ1IsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUc7WUFDMUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFO2dCQUNYLEdBQUcsR0FBRyxLQUFLLENBQUM7YUFDZjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNiLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEIsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ1gsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVwQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDWCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXBCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNYLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFeEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsd0JBQXdCLEVBQUU7UUFFekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVuQyxDQUFDLENBQUMsQ0FBQztBQUVQLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgSGVhcCA9IHJlcXVpcmUoXCJjb2xsZWN0aW9ucy9oZWFwXCIpO1xudmFyIHBlcm11dGUgPSByZXF1aXJlKFwiLi9wZXJtdXRlXCIpO1xudmFyIGRlc2NyaWJlVG9Kc29uID0gcmVxdWlyZShcIi4vdG8tanNvblwiKTtcblxuZGVzY3JpYmUoXCJIZWFwLXNwZWNcIiwgZnVuY3Rpb24gKCkge1xuXG4gICAgZGVzY3JpYmVUb0pzb24oSGVhcCwgWzQsIDMsIDIsIDFdKTtcblxuICAgIGRlc2NyaWJlKFwiYWx3YXlzIHRyYWNrcyB0aGUgbWF4IHZhbHVlXCIsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgY29tbW9uTnVtYmVycyA9IFsxLCAyLCAzLCA0LCA1XTtcbiAgICAgICAgcGVybXV0ZShjb21tb25OdW1iZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChudW1iZXJzKSB7XG4gICAgICAgICAgICBpdChKU09OLnN0cmluZ2lmeShudW1iZXJzKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlYXAgPSBIZWFwKG51bWJlcnMpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhlcyA9IGNvbW1vbk51bWJlcnMuc2xpY2UoKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlIChtYXhlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXggPSBtYXhlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCA9IGhlYXAucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdCh0b3ApLnRvRXF1YWwobWF4KTtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0KGhlYXAubGVuZ3RoKS50b0JlKG1heGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXhwZWN0KGhlYXAubGVuZ3RoKS50b0JlKDApO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoXCJbNSwgNCwgMywgMiwgMV1cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YWNrID0gWzUsIDQsIDMsIDIsIDFdO1xuICAgICAgICAgICAgdmFyIGhlYXAgPSBIZWFwKHN0YWNrKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLmNvbnRlbnQpLnRvRXF1YWwoWzUsIDQsIDMsIDIsIDFdKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9CZSg1KTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLnBvcCgpKS50b0JlKDUpO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAuY29udGVudCkudG9FcXVhbChbNCwgMiwgMywgMV0pO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAubGVuZ3RoKS50b0JlKDQpO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAucG9wKCkpLnRvQmUoNCk7XG4gICAgICAgICAgICBleHBlY3QoaGVhcC5jb250ZW50KS50b0VxdWFsKFszLCAyLCAxXSk7XG4gICAgICAgICAgICBleHBlY3QoaGVhcC5sZW5ndGgpLnRvQmUoMyk7XG4gICAgICAgICAgICBleHBlY3QoaGVhcC5wb3AoKSkudG9CZSgzKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLmNvbnRlbnQpLnRvRXF1YWwoWzIsIDFdKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9CZSgyKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLnBvcCgpKS50b0JlKDIpO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAuY29udGVudCkudG9FcXVhbChbMV0pO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAubGVuZ3RoKS50b0JlKDEpO1xuICAgICAgICAgICAgZXhwZWN0KGhlYXAucG9wKCkpLnRvQmUoMSk7XG4gICAgICAgICAgICBleHBlY3QoaGVhcC5jb250ZW50KS50b0VxdWFsKFtdKTtcbiAgICAgICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9CZSgwKTtcbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGJlIG9ic2VydmFibGVcIiwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBoZWFwID0gbmV3IEhlYXAoWzEsMiwzLDQsNV0pO1xuICAgICAgICB2YXIgdG9wO1xuICAgICAgICBoZWFwLmFkZE1hcENoYW5nZUxpc3RlbmVyKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdG9wID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGhlYXAucHVzaCg3KTtcbiAgICAgICAgZXhwZWN0KHRvcCkudG9CZSg3KTtcblxuICAgICAgICBoZWFwLnBvcCgpO1xuICAgICAgICBleHBlY3QodG9wKS50b0JlKDUpO1xuXG4gICAgICAgIGhlYXAucG9wKCk7XG4gICAgICAgIGV4cGVjdCh0b3ApLnRvQmUoNCk7XG5cbiAgICAgICAgaGVhcC5wb3AoKTtcbiAgICAgICAgZXhwZWN0KHRvcCkudG9CZSgzKTtcblxuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZGVsZXRlIHByb3Blcmx5XCIsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgaGVhcCA9IG5ldyBIZWFwKFsxLCAyLCAzLCA0LCA1LCA2XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCg2KTtcbiAgICAgICAgaGVhcC5kZWxldGUoMyk7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFsxLCAyLCA0LCA1LCA2XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCg1KTtcbiAgICAgICAgaGVhcC5kZWxldGUoNik7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFsxLCAyLCA0LCA1XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCg0KTtcbiAgICAgICAgaGVhcC5kZWxldGUoMSk7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFsyLCA0LCA1XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCgzKTtcbiAgICAgICAgaGVhcC5kZWxldGUoNCk7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFsyLCA1XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgICAgaGVhcC5kZWxldGUoMik7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFs1XSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCgxKTtcbiAgICAgICAgaGVhcC5kZWxldGUoNSk7XG4gICAgICAgIGV4cGVjdChoZWFwLnNvcnRlZCgpKS50b0VxdWFsKFtdKTtcbiAgICAgICAgZXhwZWN0KGhlYXAubGVuZ3RoKS50b0VxdWFsKDApO1xuICAgICAgICBleHBlY3QoaGVhcC5kZWxldGUobnVsbCkpLnRvQmUoZmFsc2UpO1xuICAgICAgICBleHBlY3QoaGVhcC5zb3J0ZWQoKSkudG9FcXVhbChbXSk7XG4gICAgICAgIGV4cGVjdChoZWFwLmxlbmd0aCkudG9FcXVhbCgwKTtcblxuICAgIH0pO1xuXG59KTtcbiJdfQ==